{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate,Routes,Route}from\"react-router-dom\";// Remove BrowserRouter here\nimport\"./App.css\";import ThankYou from\"./ThankYou\";// import Button from '@mui/material/Button';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RegistrationForm(){const navigate=useNavigate();const[formData,setFormData]=useState({email:\"\",password:\"\",firstName:\"\",lastName:\"\",race:\"\",division:\"\"});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleChange=e=>{const{id,value}=e.target;setFormData({...formData,[id]:value});};const handleRadioChange=e=>{setFormData({...formData,race:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);if(!formData.email||!formData.password||!formData.firstName||!formData.lastName||!formData.race||!formData.division){setError(\"All fields are required.\");setLoading(false);return;}try{const response=await fetch(\"http://127.0.0.1:5000/registration\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});const data=await response.json();if(!response.ok){throw new Error(data.message||\"Registration Failed\");}setTimeout(()=>{setFormData({email:\"\",password:\"\",firstName:\"\",lastName:\"\",race:\"\",division:\"\"});setLoading(false);navigate(\"/thankyou\");},1000);}catch(error){console.error(\"Error:\",error);setError(error.message||\"Error connecting to server\");setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loader-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loader\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Processing your registration...\"})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"registration-form\",children:[/*#__PURE__*/_jsx(\"nav\",{class:\"navbar bg-body-tertiary\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsx(\"button\",{class:\"navbar-text\",children:\"About Us\"})})}),/*#__PURE__*/_jsx(\"h1\",{id:\"rr\",children:\"Race Registration\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleChange,required:true,minLength:5,maxLength:10}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",placeholder:\"First Name\",value:formData.firstName,onChange:handleChange,required:true,minLength:4,maxLength:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",placeholder:\"Last Name\",value:formData.lastName,onChange:handleChange,required:true,minLength:4,maxLength:20}),/*#__PURE__*/_jsxs(\"div\",{className:\"run\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Select a race:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"5k\",name:\"race\",value:\"5k\",onChange:handleRadioChange,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"5k\",children:\"Fun Run 5k\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"half\",name:\"race\",value:\"half\",onChange:handleRadioChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"half\",children:\"Half Marathon\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"full\",name:\"race\",value:\"full\",onChange:handleRadioChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"full\",children:\"Full Marathon\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"division\",children:\"Select Age Group:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"division\",value:formData.division,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Select--\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kids 0-10\",children:\"0-10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Teens 11-19\",children:\"11-19\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Adults 20-60\",children:\"20-60\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Seniors 61-100\",children:\"61-100\"})]})]}),/*#__PURE__*/_jsx(\"button\",{id:\"register\",type:\"submit\",disabled:loading,children:loading?'Processing...':'Register!'})]})});}function App(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RegistrationForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/thankyou\",element:/*#__PURE__*/_jsx(ThankYou,{})})]});}export default App;","map":{"version":3,"names":["React","useState","useNavigate","Routes","Route","ThankYou","jsx","_jsx","jsxs","_jsxs","RegistrationForm","navigate","formData","setFormData","email","password","firstName","lastName","race","division","loading","setLoading","error","setError","handleChange","e","id","value","target","handleRadioChange","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","message","setTimeout","console","className","children","onSubmit","class","type","placeholder","onChange","required","minLength","maxLength","name","htmlFor","disabled","App","path","element"],"sources":["S:/WebDev 2.0/flask-React/client/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, Routes, Route } from \"react-router-dom\"; // Remove BrowserRouter here\nimport \"./App.css\";\nimport ThankYou from \"./ThankYou\";\n// import Button from '@mui/material/Button';\n\nfunction RegistrationForm() {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    race: \"\",\n    division: \"\"\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleChange = (e) => {\n    const { id, value } = e.target;\n    setFormData({ ...formData, [id]: value });\n  };\n\n  const handleRadioChange = (e) => {\n    setFormData({ ...formData, race: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    if (\n      !formData.email ||\n      !formData.password ||\n      !formData.firstName ||\n      !formData.lastName ||\n      !formData.race ||\n      !formData.division\n    ) {\n      setError(\"All fields are required.\");\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/registration\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.message || \"Registration Failed\");\n      }\n\n      setTimeout(() => {\n        setFormData({\n          email: \"\",\n          password: \"\",\n          firstName: \"\",\n          lastName: \"\",\n          race: \"\",\n          division: \"\"\n        });\n        setLoading(false);\n        navigate(\"/thankyou\");\n      }, 1000);\n\n    } catch (error) {\n      console.error(\"Error:\", error);\n      setError(error.message || \"Error connecting to server\");\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {loading ? (\n        <div className=\"loader-container\">\n          <div className=\"loader\"></div>\n          <p>Processing your registration...</p>\n        </div>\n      ) : (\n          <form onSubmit={handleSubmit} className=\"registration-form\">\n            <nav class=\"navbar bg-body-tertiary\">\n              <div class=\"container-fluid\">\n                  <button class=\"navbar-text\">About Us</button>\n              </div>\n            </nav>\n            \n          <h1 id=\"rr\">Race Registration</h1>\n          \n          {error && <div className=\"error-message\">{error}</div>}\n\n          <input\n            type=\"email\"\n            id=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n          />\n          <input\n            type=\"password\"\n            id=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n            minLength={5}\n            maxLength={10}\n          />\n          <input\n            type=\"text\"\n            id=\"firstName\"\n            placeholder=\"First Name\"\n            value={formData.firstName}\n            onChange={handleChange}\n            required\n            minLength={4}\n            maxLength={20}\n          />\n          <input\n            type=\"text\"\n            id=\"lastName\"\n            placeholder=\"Last Name\"\n            value={formData.lastName}\n            onChange={handleChange}\n            required\n            minLength={4}\n            maxLength={20}\n          />\n\n          <div className=\"run\">\n            <p>Select a race:</p>\n            <div>\n              <input\n                type=\"radio\"\n                id=\"5k\"\n                name=\"race\"\n                value=\"5k\"\n                onChange={handleRadioChange}\n                required\n              />\n              <label htmlFor=\"5k\">Fun Run 5k</label>\n            </div>\n            <div>\n              <input\n                type=\"radio\"\n                id=\"half\"\n                name=\"race\"\n                value=\"half\"\n                onChange={handleRadioChange}\n              />\n              <label htmlFor=\"half\">Half Marathon</label>\n            </div>\n            <div>\n              <input\n                type=\"radio\"\n                id=\"full\"\n                name=\"race\"\n                value=\"full\"\n                onChange={handleRadioChange}\n              />\n              <label htmlFor=\"full\">Full Marathon</label>\n            </div>\n          </div>\n\n          <div id=\"selector\">\n            <label htmlFor=\"division\">Select Age Group:</label>\n            <select\n              id=\"division\"\n              value={formData.division}\n              onChange={handleChange}\n              required\n            >\n              <option value=\"\">--Select--</option>\n              <option value=\"Kids 0-10\">0-10</option>\n              <option value=\"Teens 11-19\">11-19</option>\n              <option value=\"Adults 20-60\">20-60</option>\n              <option value=\"Seniors 61-100\">61-100</option>\n            </select>\n          </div>\n\n          <button id=\"register\" type=\"submit\" disabled={loading}>\n            {loading ? 'Processing...' : 'Register!'}\n          </button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<RegistrationForm />} />\n      <Route path=\"/thankyou\" element={<ThankYou />} />\n    </Routes>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}